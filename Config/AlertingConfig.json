{
    "AlertThresholds": {
        "PatchAlertCount": 8,
        "HtmlBodyMaxLength": 3000000,
        "RelatedAlertWindowMinutes": 5,
        "HaloAlertHistoryDays": 30,
        "ReoccurringTicketHours": 24
    },
    "BusinessHours": {
        "StartTime": "09:00",
        "EndTime": "17:30",
        "TimeZone": "GMT Standard Time",
        "WorkDays": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
        "SkipWeekendsForHyperV": true
    },
    "Storage": {
        "TableName": "DevicePatchAlerts",
        "PartitionKey": "DeviceAlert",
        "StorageAccountName": "dattohaloalertsstgnirab"
    },
    "TicketDefaults": {
        "TicketTypeId": 8,
        "NonContractTicketTypeId": 9,
        "Category1": "Datto Alert",
        "SetTicketResponded": true,
        "DefaultSiteId": 286,
        "DefaultClientName": "Aegis Internal"
    },
    "ContractManagement": {
        "EnableContractValidation": true,
        "ContractTicketTypeId": 8,
        "NonContractTicketTypeId": 9,
        "NonContractChargeRate": 0,
        "ValidateDeviceSupport": true,
        "DefaultDeviceType": "PC"
    },
    "PriorityMapping": {
        "Critical": "4",
        "High": "4", 
        "Moderate": "4",
        "Low": "4",
        "Information": "4"
    },
    "AlertTypeMapping": {
        "perf_resource_usage_ctx": "Resource Monitor",
        "comp_script_ctx": "Component Monitor",
        "perf_mon_ctx": "Performance Monitor",
        "online_offline_status_ctx": "Offline",
        "eventlog_ctx": "Event Log",
        "perf_disk_usage_ctx": "Disk Usage",
        "patch_ctx": "Patch Monitor",
        "srvc_status_ctx": "Service Status",
        "antivirus_ctx": "Antivirus",
        "custom_snmp_ctx": "SNMP",
        "endpoint_security_threat_ctx": "Endpoint Security"
    },
    "HtmlOptimization": {
        "CompressionEnabled": true,
        "TruncationEnabled": true,
        "MinimalFallbackEnabled": true,
        "RetainPriorityColors": true
    },
    "ErrorHandling": {
        "MaxRetryAttempts": 3,
        "RetryDelaySeconds": 2,
        "EnableFallbackTickets": true,
        "LogDetailedErrors": true
    },
    "CustomerNotifications": {
        "DiskUsage": {
            "SendEmailToUser": true,
            "EmailTemplate": "<p>Your local storage is running low, with less than 10% remaining. To free up space, you might consider:<br><br>- Deleting unnecessary downloaded files<br>- Emptying the Recycle Bin<br>- Moving large files to cloud storage (e.g. OneDrive) and marking them as cloud-only.<br><br>If you're unable to resolve this issue or need further assistance, please reply to this email for support or call Aegis on 01865 393760.</p>",
            "SupportPhone": "01865 393760"
        },
        "PatchFailure": {
            "SendEmailToUser": true,
            "EmailTemplate": "<p>Your device has failed to install recent Windows updates after multiple attempts. This could leave your device vulnerable to security issues.</p><p><strong>To manually install updates, please follow these steps:</strong></p><ol><li>Click the <strong>Start</strong> button (Windows icon in bottom-left corner)</li><li>Type <strong>\"Windows Update\"</strong> and click on <strong>\"Windows Update settings\"</strong></li><li>Click the <strong>\"Check for updates\"</strong> button</li><li>If updates are found, click <strong>\"Install now\"</strong></li><li>Your computer may need to restart to complete the installation</li></ol><p>If the updates continue to fail or you encounter any errors, please reply to this email for support or call Aegis on 01865 393760.</p>",
            "SupportPhone": "01865 393760"
        }
    },
    "CustomerAlertRouting": {
        "EnableRouting": false,
        "EmailSubjectPrefix": "System Alert:",
        "EmailFromName": "IT Monitoring System",
        "CreateTrackingTickets": true,
        "TrackingTicketStatusId": 9,
        "EmailTemplate": "<html><head><style>body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; } .alert-box { background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; } .alert-box.critical { background-color: #f8d7da; border-left-color: #dc3545; } .alert-box.warning { background-color: #fff3cd; border-left-color: #ffc107; } .alert-box.info { background-color: #d1ecf1; border-left-color: #17a2b8; } .device-info { background-color: #f8f9fa; padding: 10px; margin: 15px 0; border-radius: 5px; } .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; font-size: 0.9em; color: #666; } h2 { color: #0066cc; } strong { color: #000; }</style></head><body><h2>System Alert Notification</h2><div class='alert-box {SEVERITY_CLASS}'><strong>Alert Type:</strong> {ALERT_TYPE}<br><strong>Severity:</strong> {SEVERITY}<br><strong>Device:</strong> {DEVICE_NAME}</div><h3>Alert Details</h3><p>{ALERT_MESSAGE}</p><div class='device-info'><strong>Affected System:</strong> {DEVICE_NAME}<br><strong>Alert Time:</strong> {ALERT_TIME}</div><h3>What This Means</h3><p>Our monitoring system has detected an issue that may require attention. {ACTION_REQUIRED}</p><h3>Recommended Action</h3><p>{RECOMMENDED_ACTION}</p><div class='footer'><p>This is an automated alert from your IT monitoring system. If you need assistance, please contact your IT support team.</p><p><em>Alert ID: {ALERT_UID}</em></p></div></body></html>"
    },
    "WindowsErrorCodes": {
        "0x80240022": "WU_E_ALL_UPDATES_FAILED: Operation failed for all updates.",
        "0x80070005": "E_ACCESSDENIED: Access Denied, insufficient permissions.",
        "0x80004005": "E_FAIL: Unspecified error, often related to file or registry issues.",
        "0x80070002": "ERROR_FILE_NOT_FOUND: The system cannot find the file specified.",
        "0x80070003": "ERROR_PATH_NOT_FOUND: The system cannot find the path specified.",
        "0x80070057": "E_INVALIDARG: One or more arguments are invalid.",
        "0x8000FFFF": "E_UNEXPECTED: Unexpected failure.",
        "0x80070006": "E_HANDLE: Invalid handle error, generally related to system resource issues."
    },
    "AlertConsolidation": {
        "EnableConsolidation": true,
        "ConsolidationWindowHours": 24,
        "ConsolidatableAlertTypes": [
            "An account failed to log on",
            "Account lockout",
            "Multiple failed login attempts",
            "Security audit failure"
        ],
        "ConsolidationSearchStatuses": [
            "Awaiting Customer Reply (AS)",
            "Awaiting Customer Reply (CS)", 
            "New",
            "Agent Assigned",
            "Work In Progress",
            "Awaiting 3rd Party Action",
            "Project",
            "Awaiting Approval",
            "Awaiting Availability",
            "Awaiting Deletion",
            "Awaiting Client Confirmation",
            "Awaiting Information",
            "Awaiting Invoice Amendments",
            "Awaiting Parts",
            "Awaiting Quote",
            "Awaiting Reply",
            "Awaiting Fix or Change",
            "Awaiting Schedule",
            "Awaiting Delivery",
            "Awaiting Time Adding",
            "Dispatched (DHL)",
            "Parked",
            "Scheduled",
            "Awaiting for Supplier Information",
            "Awaiting Closure (Complete)",
            "Workflow in Progress",
            "Re-Opened Ticket",
            "Leaver",
            "Joiner",
            "Change Request: Approval Pending",
            "Change Request: Approved and Scheduled",
            "On Hold - Inactive"
        ],
        "MaxConsolidationCount": 500,
        "ConsolidationNoteTemplate": "Additional {AlertType} alert detected at {Timestamp}. Total occurrences: {Count}"
    },
    "Debugging": {
        "EnableVerboseLogging": false,
        "LogTicketCreationDetails": true,
        "EnablePerformanceMetrics": false
    }
}
